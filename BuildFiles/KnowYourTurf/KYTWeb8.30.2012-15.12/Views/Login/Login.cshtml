@model LoginViewModel
@using KnowYourTurf.Core.Html.Expressions
@using KnowYourTurf.Core.Html.FubuUI
@using KnowYourTurf.Web
@using KnowYourTurf.Web.Controllers
@using HtmlTags

@{
    Layout = "";
}
<!--[if IE]>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- [Else]>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- [endif]-->
<html>
    <head>
    <title>Login</title>

    @CSS("jquery-ui-1.8.16.custom.css").ToHtmlTag()
    @CSS("main.css").ToHtmlTag()
    <!--[if gt IE 7]>
    @CSS("ie.css").ToHtmlTag()
     <![endif]-->
     @CSS("kyt.css").ToHtmlTag()
    @Script("jqueryPlugins/jquery-1.7.1.js").ToHtmlTag()
    @Script("jqueryPlugins/jquery-ui-1.8.16.custom.min.js").ToHtmlTag()
    @Script("jqueryPlugins/jquery.validate.js").ToHtmlTag()
    @Script("jqueryPlugins/jquery.form.js").ToHtmlTag()
    @Script("internalHelpers/cc.utilities.js").ToHtmlTag()
    @Script("internalHelpers/cc.crudForm.js").ToHtmlTag()
    @Script("internalHelpers/cc.Notifications.js").ToHtmlTag()
    @Script("externalHelpers/underscore.js").ToHtmlTag()
    @Script("externalHelpers/backbone.js").ToHtmlTag()
    @Script("externalHelpers/backbone.marionette.js").ToHtmlTag()
    @Script("externalHelpers/knockout-2.1.0.debug.js").ToHtmlTag()    
    @Script("externalHelpers/knockout.mapping.js").ToHtmlTag()    

    @Script("KYT/KYT.App.js").ToHtmlTag()
    @Script("KYT/KYT.Views.js").ToHtmlTag()
    @Script("KYT/KYT.State.js").ToHtmlTag()
    @Script("KYT/KYT.Mixins.js").ToHtmlTag()
    @Script("KYT/KYT.OneOffViews.js").ToHtmlTag()

    
    @Script("KYT/CC.ModelBinding/CC.Elements.js").ToHtmlTag()
    @Script("KYT/CC.ModelBinding/CC.NotificationService.js").ToHtmlTag()
    @Script("KYT/CC.ModelBinding/CC.ModelService.js").ToHtmlTag()
    @Script("KYT/CC.ModelBinding/CC.ValidationRules.js").ToHtmlTag()
    @Script("KYT/CC.ModelBinding/CC.ValidationRunner.js").ToHtmlTag()
    @Script("internalHelpers/kyt.repository.js").ToHtmlTag()

        @*    @Script("kyt.baseClass.js").ToHtmlTag()*@
@*    @Script("kyt.PopupView.js").ToHtmlTag()*@
@*    @Script("kyt.FormView.js").ToHtmlTag()*@
@*    @Script("kyt.ajaxPopupFormModule.js").ToHtmlTag()*@
@*    @Script("kyt.forgottenPasswordController.js").ToHtmlTag()*@
    @Script("jqueryPlugins/jquery.pubsub.js").ToHtmlTag()
    @Script("jqueryPlugins/jquery.metadata.js").ToHtmlTag()
    @Script("externalHelpers/json2.js").ToHtmlTag()
    
    <script type="text/javascript">
        var extraFormOptions = {};
        extraFormOptions.forgotPasswordUrl=@MvcHtmlString.Create(JsonUtil.ToJson(Model.ForgotPasswordUrl));
                
        $(document).ready(function () {
            var model =  @MvcHtmlString.Create(JsonUtil.ToJson(Model));
            var view = new KYT.Views.LoginView({el:".signin"});
            view.rawModel = model;
            view.render();
        });
    </script>
    </head>
    <body id="signin">
        <div id="outer-wrapper">
            <div class="content-outer">
                <div class="content-header"></div>
                <div class="content-inner norequired">
                    <div id="messageContainer">
                        <ul data-bind="foreach:messages">
@*                            *@
                            <li data-bind="text:message,css: { error: status()=='error', warning: status()=='warning', success: status()=='success' }"></li>
                        </ul>
                    </div>
                    <div class="signin">
                        <div class="col">
                            <label class="big">@WebLocalizationKeys.SIGN_IN</label>
                             <form>    
                            <div class="fieldRow">
                                @Html.SubmissionFor(x => x.UserName).ToHtmlTag()
                            </div>
                            <div class="fieldRow">
                                @Html.SubmissionFor(x => x.Password).ToHtmlTag()
                            </div>
                            <div class="fieldRow">
                                @Html.SubmissionFor(x => x.RememberMe).AddClassToRoot("checkbox").InlineReverse().ToHtmlTag()
                            </div>
                        </div>
                        <div class="footer some-top-padding">
                            @StandardButtonFor("submit", WebLocalizationKeys.SIGN_IN).AddClass("submit").AddClass("kyt_submitButton").ToHtmlTag()
                            <a href="#" id="forgotPassword">@WebLocalizationKeys.FORGOT_YOUR_PASSWORD</a>
                        </div>
                        </form>
                    </div>
                </div>
                <div class="content-footer"><span></span></div>
            </div>
        </div>
    </body>
</html>
